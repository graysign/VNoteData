现在我们已经进入游戏进程当中了，然后我们看下真正感兴趣的DX的后台  
其实原理很简单，拦截dx接口函数，就是让dx的函数在执行之前或之后，首先执行我们的代码，比如你要读写屏，肯定要在其之前Hook，比如你要发送键盘鼠标消息，那就要在DInput的获取数据接口执行之后，替换其数据，让其传出我们的数据，就可以达到后台DX键盘或者鼠标了  
只是现在DX相关文档有点少，我下面罗列出几个关键的接口，只要Hook了下面的几个接口，那么后台鼠标键盘，后台抓图，写屏，降cpu等等，都不是问题了  
首先我们来看DDraw，你要知道D3d是对DDraw的继承，因此我们先来看DDraw，对于2D游戏来说，我们Hook哪里才能得到图像呢？当然是blt,和fastblt，通常fastblt得到的往往是构成屏幕的一部分图片，比如角色，背景等等单一图片，因此从blt中可以得到内存画面表面，也就能完全抓到后台图像了，顺便说一下，主表面就是显示器表面，有人曾经说dx直接写屏，因此不可能后台，这有一定的道理，因为如果你Hook了主表面，那么游戏被什么挡住，也就会抓到什么图，因此要Hook到内存表面才行，在其显示之前，就将其读出，我是用Delphi做的，用Delphi的人也比较少，具体代码我就不写了，感兴趣的欢迎组个团队，大家一起做项目  
然后我们再来看D3d，这个可以通过Hook present来读取，当然还可以降CPU，写屏等等，和DDraw同理  
最后是对DInput的hook，鼠标和键盘以及手柄都是通过这个来获取数据的，hook目标：GetDeviceData,GetDeviceState，一个缓冲模式，一个立即模式，键盘，鼠标，手柄数值统统按照常量，定义在`DX SDK头文件中`，可以参考我发布那个DX后台键盘插件压缩包中的说明文件  
所有这些必须在目标进程当中进行，否则，就不能截获到正确的数据